'@default':
  object.type: Contact

contactEvent:
  id: type
  value: ($lookup(primaryEvent))
  '@context':
    Accepted: AcceptAction
    ExternalCreate: AddAction
    ExternalUpdate: UpdateAction
    Created: AddAction
    Assigned: AssignAction
    Associated: AssignAction
    AutoAccepted: AssignAction
    AutoAssigned: AssignAction
    AssignedToSelf: AssignAction
    Deleted: RemoveAction
    Registered: RegisterAction
    Declined: RejectAction
    LeadActivity: UpdateAction
    DuplicateCreated: UpdateAction
    AdminUpdate: UpdateAction
    CRMSync: UpdateAction
    NoteAdded: UpdateAction
    Updated: UpdateAction
    Retracted: UnAssignAction
    Unassigned: UnAssignAction

addresses:
  id: object.address
  type: PostalAddress
  '@context':
    addressKey: additionalProperty.addressKey
    addressType: name
    address1:
      id: streetAddress
      value: ($join([address1,address2],' ').$trim())
    address2: null
    city: addressLocality
    stateOrProvince: addressRegion
    postalCode: postalCode
    country: addressCountry

assignments:
  id: recipient
  value: ($join(['https://',originatingSystemOwnerKey,'.rl.hsfaffiliates.com/profile/card#me']))

contactKey: object.identifier
originatingSystemContactKey: object.additionalProperty.originatingSystemContactKey
originatingSystemName: object.additionalProperty.originatingSystemName
fullName: object.name
firstName: object.givenName
lastName: object.familyName
namePrefix: object.honorificPrefix
nameSuffix: object.honorificSuffix
middleName: object.additionalName
nickname: object.additionalName
jobTitle: object.jobTitle
company: object.worksFor
emailAddresses:
  id: object.contactPoint
  type: ContactPoint
  '@context':
    emailAddressKey: additionalProperty.emailAddressKey
    emailAddress: email
    emailType: name
phoneNumbers:
  id: object.contactPoint
  type: ContactPoint
  '@context':
    phoneNumberKey: additionalProperty.phoneNumberKey
    phoneNumberType: name
    phoneNumber: telephone
preferredContactMethod: object.preferredContactMethod
preferredPhoneType: object.preferredPhoneType
preferredTime: object.preferredTime
notes:
  id: object.comment
  type: Comment
  '@context':
    noteKey: additionalProperty.noteKey
    note: text
    addedByMember: author
leadSources: instrument
properties:
  id: includes
  type: RealEstateListing
timestampEntered: dateCreated
timestampModified: dateModified


 { key: 'ownerType', value: 'Member' }
 { key: 'ownerKey', value: 'ownerKey' }

  
    { key: 'autoAccept', value: true }

  
    { key: 'assignmentType', value: 'Lead' }

  
    { key: 'originatingSystemOwnerKey',
      value: 'originatingSystemOwnerKey' }

  
    { key: 'originatingSystemOwnerName',
      value: 'originatingSystemOwnerName' }

  
    { key: 'usedForApm', value: true }

  
    { key: 'streetNumberNumeric', value: 1 }

  
    { key: 'yearBuilt', value: 2002 }

  
    { key: 'listAgentFullName', value: 'listAgentFullName' }

  
    { key: 'listBrokerName', value: 'listBrokerName' }

  
    { key: 'listingContractDate', value: 'listingContractDate' }

  
    { key: 'stateOrProvince', value: 'stateOrProvince' }

  
    { key: 'propertySubType', value: 'propertySubType' }

  
    { key: 'listAor', value: 'listAor' }

  
    { key: 'mlsStatus', value: 'mlsStatus' }

  
    { key: 'listAgentLastName', value: 'listAgentLastName' }

  
    { key: 'listAgentMlsId', value: 'listAgentMlsId' }

  
    { key: 'listingTypeName', value: 'listingTypeName' }

  
    { key: 'countyOrParish', value: 'countyOrParish' }

  
    { key: 'city', value: 'city' }

  
    { key: 'listPrice', value: 169900 }

  
    { key: 'streetNumber', value: 'streetNumber' }

  
    { key: 'unitNumber', value: 'unitNumber' }

  
    { key: 'interiorFeatures', value: 'interiorFeatures' }

  
    { key: 'bedroomsTotal', value: '3' }

  
    { key: 'streetName', value: 'streetName' }

  
    { key: 'propertyType', value: 'propertyType' }

  
    { key: 'contactNote', value: 'contactNote' }

  
    { key: 'daysOnMarket', value: 1 }

  
    { key: 'heating', value: 'heating' }

  
    { key: 'stories', value: 2 }

  
    { key: 'listAgentFirstName', value: 'listAgentFirstName' }

  
    { key: 'roof', value: 'roof' }

  
    { key: 'directions', value: 'directions' }

  
    { key: 'streetSuffix', value: 'streetSuffix' }

  
    { key: 'garageSpaces', value: 0 }

  
    { key: 'listOfficeMlsId', value: 'listOfficeMlsId' }

  
    { key: 'listAgentEmail', value: 'listAgentEmail' }

  
    { key: 'country', value: 'country' }

  
    { key: 'listBrokerPhone', value: 'listBrokerPhone' }

  
    { key: 'postalCode', value: 'postalCode' }

  
    { key: 'subdivisionName', value: 'subdivisionName' }

  
    { key: 'poolFeatures', value: 'poolFeatures' }

  
    { key: 'cooling', value: 'cooling' }

  
    { key: 'propertyUrl', value: 'propertyUrl' }

  
    { key: 'exteriorFeatures', value: 'exteriorFeatures' }

  
    { key: 'listingKey', value: 'listingKey' }

  
    { key: 'streetDirPrefix', value: 'streetDirPrefix' }

  
    { key: 'lotSizeDimensions', value: 'lotSizeDimensions' }

  
    { key: 'bathroomsTotal', value: '3' }

  
    { key: 'lotSizeArea', value: 0.01 }

  
    { key: 'listingId', value: 'listingId' }

  
    { key: 'acceptedByMember', value: true }

  
    { key: 'primaryEvent', value: 'Updated' }

  
    { key: 'leadSource', value: 'leadSource' }

  
    { key: 'subLeadSource', value: 'subLeadSource' }

  
    { key: 'originalReferrerUrl', value: 'originalReferrerUrl' }

  
    { key: 'isLead', value: true }

  
    { key: 'object.type', value: 'Contact' }