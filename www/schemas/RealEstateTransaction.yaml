title: RealEstateTransaction
type: object
x-range: RealEstateTransaction
description: describes a sale, purchase and transfer of a real estate property.
properties:
  type:
    type: string
    description: '"RealEstateTransaction"'
    enum:
      - RealEstateTransaction
  identifier:
    $ref: identifier.yaml
    example:
      bhhsTransactionId: 0000097123
  transactionStatus:
    type: string
    description: transaction status
    example: ClosedTransactionStatus
  object:
    #$ref: RealEstateProperty.yaml
    type: object
    x-range: RealEstateProperty
    description: the RealEstateProperty being purchased, sold, rented, leased or transferred, a.k.a. the transaction subject.
    example:
      type: DigitalDocument
      id: 'http://user.example.com/public/logo/archive.zip'
      name: archive.zip
      encodingFormat: application/zip
      about:
       type: Transaction
       identifier:
          bhhsTransactionId: xxxx
          url: 'https://example.com'

  # dates
  listingContractDate:
    $ref: listing-contract-date.yaml
  offerDate:
    type: string
    description: date the purchase offer was presented
    format: date-time
  purchaseContractDate:
    $ref: purchase-contract-date.yaml
  closeDate:
    $ref: close-date.yaml
  # documents
  document:
    type: array
    description: any documents, images, etc... related to the transaction.
    x-range: DigitalDocument
    items:
        type: object
  # participants
  participant:
    type: array
    description: parties with a direct or indirect interest or role in the transaction
    x-range:
    - Buyer
    - BuyerAgent
    - BuyerOffice
    - Cobuyer
    - Coseller
    - EscrowCoordinator
    - ListingAgent
    - ListingOffice
    - LoanOfficer
    - Seller
    - TransactionCoordinator
    - Vendor
    - Other
    items:
      type: object
    example:
    - type: Person
      roleName: Buyer
      name: Bob Buyer
      email: bob@example.com
    - type: RealEstateAgent
      roleName: BuyerAgent
      name: Robin Escobar

  referral:
    type: object
    description: referral information
    properties:
      type:
        type: string
        description: '"Referral"'
        enum:
        - Referral
      referredBy:
        type: string
        description: name of the referral source
        example: example needed
      additionalProperty:
        type: object
        example:
          hsfInNetworkReferral: true

  transactionEntry:
    type: array
    description: commissions and adjustments
    items:
      $ref: Commission.yaml
