# @format

# @format: https://json-schema.org/draft/2019-09/json-schema-core.html#rfc.section.8.2.2
$id: subscription_headers
title: CloudEvent
type: object
properties:
  time:
    type: string
    format: date-time
    description: date & time the event was produced

  agent:
    type: string
    format: uri
    summary: the event provider who sent the event via a subscription authorized to your service.
    description: |
      if you are a multi-tenant app, then the agent is the user associated with the event data.
      any future events related to this message will be sent to the same agent/recipient
    example: https://andy_agent.example.com/profile/card#me

  instrument:
    type: string
    format: uri
    description: the app or service that produced the event on behalf of the agent/user
    example: https://supercrm.example.com/profile/card#me

  source:
    type: string
    format: uri
    description: an agent, team or organization who received a copy of the event
    example: https://bigbrandrealestate.example.com/profile/card#me

  originalRecipient:
    type: string
    format: uri
    summary: the original recipient of the event
    description: |
      the originalRecipient helps you determine the subscription that delivered the event to you.
      if the originalRecipient is the same as the agent, then the you are subscribed to the agent.
      if the originalRecipient is different from the agent, then you are subscribed to the event source

    example: https://agentid.example.com/profile/card#me

  id:
    type: string
    format: uri
    summary: the event id
    description: |
      the event id is a unique identifier for the event.
      all subscribers will receive the same event id.
    example: https://supercrm.example.com/publish/{eventid}

  '@id':
    type: string
    format: uri
    summary: the message id - the uri of the message in your inbox
    example: https://sumpercrm.example.com/inbox/{eventid}
